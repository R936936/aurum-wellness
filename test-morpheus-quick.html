<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test R√°pido - Morpheus Trinity</title>
    <style>
        body {
            background: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            padding: 20px;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #0f0;
        }
        .success { color: #0f0; }
        .error { color: #f00; }
        .warning { color: #ff0; }
        button {
            background: #0f0;
            color: #000;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        button:hover {
            background: #0ff;
        }
        #output {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #0f0;
            min-height: 200px;
        }
    </style>
</head>
<body>
    <h1>üî± TEST R√ÅPIDO - MORPHEUS TRINITY</h1>
    
    <div id="tests"></div>
    
    <button onclick="runAllTests()">üöÄ EJECUTAR TODOS LOS TESTS</button>
    <button onclick="testQuery()">üí¨ PROBAR QUERY "HOLA"</button>
    <button onclick="location.reload()">üîÑ RECARGAR</button>
    
    <div id="output"></div>

    <!-- Cargar scripts en orden correcto -->
    <script src="config.local.js"></script>
    <script src="wellness-core.js"></script>
    <script src="trinity-router.js"></script>
    <script src="super-wellness-agent-trinity.js"></script>

    <script>
        const testsDiv = document.getElementById('tests');
        const outputDiv = document.getElementById('output');

        function addTest(name, status, message) {
            const div = document.createElement('div');
            div.className = `test-result ${status}`;
            div.innerHTML = `<strong>${name}:</strong> ${message}`;
            testsDiv.appendChild(div);
        }

        function runAllTests() {
            testsDiv.innerHTML = '';
            outputDiv.innerHTML = '<h3>‚è≥ Ejecutando tests...</h3>';

            // Test 1: AURUM_CONFIG
            if (typeof AURUM_CONFIG !== 'undefined') {
                addTest('‚úÖ Test 1', 'success', 'AURUM_CONFIG est√° cargado');
                
                // Verificar IAs
                const ias = {
                    claude: AURUM_CONFIG.claude?.enabled,
                    perplexity: AURUM_CONFIG.perplexity?.enabled,
                    gemini: AURUM_CONFIG.gemini?.enabled,
                    openai: AURUM_CONFIG.openai?.enabled
                };
                
                addTest('üìä IAs Activas', 'success', 
                    `Claude: ${ias.claude ? '‚úÖ' : '‚ùå'} | ` +
                    `Perplexity: ${ias.perplexity ? '‚úÖ' : '‚ùå'} | ` +
                    `Gemini: ${ias.gemini ? '‚úÖ' : '‚ùå'} | ` +
                    `OpenAI: ${ias.openai ? '‚úÖ' : '‚ùå'}`
                );
            } else {
                addTest('‚ùå Test 1', 'error', 'AURUM_CONFIG NO est√° cargado');
            }

            // Test 2: WellnessCore
            if (typeof WellnessCore !== 'undefined') {
                addTest('‚úÖ Test 2', 'success', 'WellnessCore est√° cargado');
            } else {
                addTest('‚ùå Test 2', 'error', 'WellnessCore NO est√° cargado');
            }

            // Test 3: TrinityRouter
            if (typeof TrinityRouter !== 'undefined') {
                addTest('‚úÖ Test 3', 'success', 'TrinityRouter est√° cargado');
            } else {
                addTest('‚ùå Test 3', 'error', 'TrinityRouter NO est√° cargado');
            }

            // Test 4: SuperWellnessAgentTrinity
            if (typeof SuperWellnessAgentTrinity !== 'undefined') {
                addTest('‚úÖ Test 4', 'success', 'SuperWellnessAgentTrinity est√° cargado');
            } else {
                addTest('‚ùå Test 4', 'error', 'SuperWellnessAgentTrinity NO est√° cargado');
            }

            // Test 5: window.SuperWellnessAgent
            if (typeof window.SuperWellnessAgent !== 'undefined' && window.SuperWellnessAgent) {
                addTest('‚úÖ Test 5', 'success', 'SuperWellnessAgent est√° inicializado');
                
                // Verificar m√©todos
                if (typeof window.SuperWellnessAgent.process === 'function') {
                    addTest('‚úÖ Test 5.1', 'success', 'M√©todo process() existe');
                } else {
                    addTest('‚ùå Test 5.1', 'error', 'M√©todo process() NO existe');
                }
            } else {
                addTest('‚ùå Test 5', 'error', 'SuperWellnessAgent NO est√° inicializado');
            }

            // Test 6: Trinity Router instance
            if (window.SuperWellnessAgent && window.SuperWellnessAgent.router) {
                addTest('‚úÖ Test 6', 'success', 'Trinity Router est√° activo');
            } else {
                addTest('‚ö†Ô∏è Test 6', 'warning', 'Trinity Router puede no estar disponible');
            }

            outputDiv.innerHTML = '<h3>‚úÖ Tests completados. Ver resultados arriba.</h3>';
        }

        async function testQuery() {
            outputDiv.innerHTML = '<h3>‚è≥ Probando query "hola"...</h3>';
            
            try {
                if (!window.SuperWellnessAgent) {
                    outputDiv.innerHTML = '<h3 class="error">‚ùå ERROR: SuperWellnessAgent no est√° inicializado</h3>';
                    return;
                }

                if (typeof window.SuperWellnessAgent.process !== 'function') {
                    outputDiv.innerHTML = '<h3 class="error">‚ùå ERROR: SuperWellnessAgent.process no es una funci√≥n</h3>';
                    return;
                }

                const response = await window.SuperWellnessAgent.process("hola");
                
                outputDiv.innerHTML = `
                    <h3 class="success">‚úÖ RESPUESTA RECIBIDA:</h3>
                    <p>${response}</p>
                `;
            } catch (error) {
                outputDiv.innerHTML = `
                    <h3 class="error">‚ùå ERROR:</h3>
                    <p>${error.message}</p>
                    <pre>${error.stack}</pre>
                `;
            }
        }

        // Ejecutar tests autom√°ticamente al cargar
        window.addEventListener('load', () => {
            setTimeout(runAllTests, 1000);
        });
    </script>
</body>
</html>
